
<hr class="sm-hide mt1 mb1">

<a href="/" class="h4 mt2 btn block">
  <svg xmlns="http://www.w3.org/2000/svg"
    class="mr1"
    viewBox="0 0 40 16" width="40" height="16" fill="currentcolor">
    <path d="M20 0 L24 8 L40 6 L20 16 L16 8 L0 10 z"/>
  </svg>
  <div class="sm-show mt1"></div>
  <span class="black">Basscss</span>
</a>

<ul class="flex flex-wrap list-reset mt2 mb1">
  <% routes.map(renderLink) %>
  <% pages.map(renderLink) %>
</ul>

<%= include('footer') %>


<% function renderLink(route) { %>
  <% if (route.path === '/') return false %>
  <li class="<%= route.routes ? 'col-12 mt2 mb2' : 'col-6 sm-col-12' %>">
    <a href="<%= route.path %>"
      class="block btn 
      <%= obj.page.title === route.title ? 'white bg-blue' : '' %>">
      <%= route.title %>
    </a>
    <% if (route.modules) { %>
      <ul class="sm-show list-reset mb2">
        <% route.modules.map(renderModuleLink, route) %>
      </ul>
    <% } %>
    <% if (route.routes) { %>
      <ul class="flex flex-wrap list-reset mb0">
        <% route.routes.map(renderLink) %>
      </ul>
    <% } %>
  </li>
<% } %>

<% function renderModuleLink(mod) { %>
  <li>
    <a href="<%= this.path + '/#' + obj.removePrefix(mod.module) %>"
      class="h6 block px2 btn button-small">
        <%= _.capitalize(mod.name).replace(/\-/g, ' ') %>
    </a>
  </li>
<% } %>

